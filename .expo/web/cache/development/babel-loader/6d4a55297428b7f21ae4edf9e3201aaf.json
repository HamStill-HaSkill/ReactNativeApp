{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Progi\\\\amupark\\\\amupark\\\\src\\\\Detail\\\\Detail.js\";\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { firebase } from \"../firebase/config\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { Video, AVPlaybackStatus } from 'expo-av';\n\nvar Detail = function Detail(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(route.params.item),\n      _useState2 = _slicedToArray(_useState, 2),\n      park = _useState2[0],\n      setPark = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      photos = _useState4[0],\n      setPhotos = _useState4[1];\n\n  var video = useRef(null);\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      status = _React$useState2[0],\n      setStatus = _React$useState2[1];\n\n  var entityRef = firebase.firestore().collection('photos');\n  useEffect(function () {\n    entityRef.onSnapshot(function (query) {\n      var parkPhotos = [];\n      query.forEach(function (photo) {\n        var data = photo.data();\n        parkPhotos.push({\n          src: data.src\n        });\n      });\n      setPhotos(parkPhotos);\n    }, function (error) {\n      console.log(error);\n    });\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.containerText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    style: styles.imageThumbnail,\n    source: {\n      uri: park.src\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.textName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, park.name), React.createElement(Text, {\n    style: styles.textDesctiption,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, park.description), React.createElement(Text, {\n    style: styles.textLocation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, park.location)), React.createElement(Video, {\n    ref: video,\n    style: styles.video,\n    source: {\n      uri: 'http://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4'\n    },\n    useNativeControls: true,\n    resizeMode: \"contain\",\n    isLooping: true,\n    onPlaybackStatusUpdate: function onPlaybackStatusUpdate(status) {\n      return setStatus(function () {\n        return status;\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: styles.containerRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: photos,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: 'column',\n          margin: 1\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          return navigation.push(\"Photos\", {\n            photos: photos\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        style: styles.imageRow,\n        source: {\n          uri: item.src\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      })));\n    },\n    numColumns: 20,\n    keyExtractor: function keyExtractor(item, index) {\n      return index;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }))), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return navigation.push(\"Edit\", {\n        park: park\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    style: styles.imageEdit,\n    source: {\n      uri: \"https://upload.wikimedia.org/wikipedia/commons/f/fd/Pencil-icon.gif\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Detail;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'white',\n    justifyContent: 'space-around'\n  },\n  containerText: {\n    flex: 0.9,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  containerRow: {\n    flex: 0.4,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    backgroundColor: 'white'\n  },\n  imageThumbnail: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: 120,\n    height: 120,\n    borderRadius: 90\n  },\n  video: {\n    alignSelf: 'center',\n    width: 300,\n    height: 180\n  },\n  imageRow: {\n    width: 100,\n    height: 100,\n    borderRadius: 5\n  },\n  imageEdit: {\n    width: 60,\n    height: 60,\n    position: 'absolute',\n    top: \"87%\",\n    left: \"80%\"\n  },\n  textName: {\n    textAlign: 'center',\n    fontSize: 17\n  },\n  textDesctiption: {\n    textAlign: 'center',\n    color: 'gray'\n  },\n  textLocation: {\n    color: 'black',\n    textAlign: 'center'\n  }\n});","map":{"version":3,"sources":["D:/Progi/amupark/amupark/src/Detail/Detail.js"],"names":["React","useState","useEffect","useRef","firebase","Video","AVPlaybackStatus","Detail","navigation","route","params","item","park","setPark","photos","setPhotos","video","status","setStatus","entityRef","firestore","collection","onSnapshot","query","parkPhotos","forEach","photo","data","push","src","error","console","log","styles","container","containerText","imageThumbnail","uri","textName","name","textDesctiption","description","textLocation","location","containerRow","flex","flexDirection","margin","imageRow","index","imageEdit","StyleSheet","create","justifyContent","alignItems","backgroundColor","width","height","borderRadius","alignSelf","position","top","left","textAlign","fontSize","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { firebase } from '../firebase/config';\r\nimport { SafeAreaView, StyleSheet, View, Text, FlatList, Image, ScrollView, TouchableWithoutFeedback } from 'react-native';\r\nimport { Video, AVPlaybackStatus } from 'expo-av';\r\n\r\nconst Detail = ({ navigation, route }) => {\r\n\r\n  let [park, setPark] = useState(route.params.item);\r\n  let [photos, setPhotos] = useState();\r\n  const video = useRef(null);\r\n  const [status, setStatus] = React.useState({});\r\n  const entityRef = firebase.firestore().collection('photos')\r\n\r\n  useEffect(() => {\r\n    entityRef.onSnapshot(query => {\r\n      let parkPhotos = [];\r\n      query.forEach(photo => {\r\n        let data = photo.data();\r\n        parkPhotos.push({ src: data.src })\r\n      });\r\n      setPhotos(parkPhotos);\r\n    },\r\n      error => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }, [])\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.containerText}>\r\n        <Image style={styles.imageThumbnail} source={{ uri: park.src }} />\r\n        <Text style={styles.textName}>{park.name}</Text>\r\n        <Text style={styles.textDesctiption}>{park.description}</Text>\r\n        <Text style={styles.textLocation}>{park.location}</Text>\r\n      </View>\r\n      <Video\r\n        ref={video}\r\n        style={styles.video}\r\n        source={{\r\n          uri: 'http://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4',\r\n        }}\r\n        useNativeControls\r\n        resizeMode=\"contain\"\r\n        isLooping\r\n        onPlaybackStatusUpdate={status => setStatus(() => status)}\r\n      />\r\n      <SafeAreaView style={styles.containerRow}>\r\n        <ScrollView horizontal={true}>\r\n          <FlatList data={photos} renderItem={({ item }) => (\r\n            <View style={{ flex: 1, flexDirection: 'column', margin: 1 }}>\r\n              <TouchableWithoutFeedback onPress={() => navigation.push(\"Photos\", { photos })}>\r\n                <Image style={styles.imageRow} source={{ uri: item.src }} />\r\n              </TouchableWithoutFeedback>\r\n            </View>\r\n          )} numColumns={20} keyExtractor={(item, index) => index} />\r\n        </ScrollView>\r\n      </SafeAreaView>\r\n      <TouchableWithoutFeedback onPress={() => navigation.push(\"Edit\", { park })}>\r\n        <Image style={styles.imageEdit} source={{ uri: \"https://upload.wikimedia.org/wikipedia/commons/f/fd/Pencil-icon.gif\" }} />\r\n      </TouchableWithoutFeedback>\r\n    </View>\r\n\r\n  );\r\n};\r\nexport default Detail;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'white',\r\n    justifyContent: 'space-around',\r\n  },\r\n  containerText: {\r\n    flex: 0.9,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  containerRow: {\r\n    flex: 0.4,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    backgroundColor: 'white',\r\n  },\r\n  imageThumbnail: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 120,\r\n    height: 120,\r\n    borderRadius: 90,\r\n  },\r\n  video: {\r\n    alignSelf: 'center',\r\n    width: 300,\r\n    height: 180,\r\n  },\r\n  imageRow: {\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 5,\r\n  },\r\n  imageEdit: {\r\n    width: 60,\r\n    height: 60,\r\n    position: 'absolute',\r\n    top: \"87%\",\r\n    left: \"80%\",\r\n  },\r\n  textName: {\r\n    textAlign: 'center',\r\n    fontSize: 17,\r\n  },\r\n  textDesctiption: {\r\n    textAlign: 'center',\r\n    color: 'gray',\r\n  },\r\n  textLocation: {\r\n    color: 'black',\r\n    textAlign: 'center',\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}